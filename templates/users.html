{% extends 'base.html' %}


{% block head %}
    Manage Users
{% endblock %}


{% block body %} 

<form action="{{ url_for('users') }}" enctype="multipart/form-data" method="POST">
    <input type="text" name="username" id="name" placeholder="Username" required><br>
    <label for="pic">Image</label>
    <input type="file" name="pic" id="pic" required><br>
    <label for="position">Position</label>
    <select name="position" id="positions">
        <option value="none" selected disabled hidden>
            Select Position
        </option>
        <option value="Product Owner">Product Owner</option>
        <option value="Team Lead">Team Lead</option>
        <option value="Tech Lead">Tech Lead</option>
        <option value="Full-Stack Developer">Full-Stack Developer</option>
        <option value="Front-End Developer">Front-End Developer</option>
        <option value="Back-End Developer">Back-End Developer</option>
        <option value="QA Lead">QA Lead</option>
        <option value="Tester">Tester</option>
        <option value="UI Designer">UI Designer</option>
        <option value="UX Designer">UX Designer</option>
    </select> <br>

    <label for="DOB">Date of Birth</label>
    <input type="date" name="DOB" id="DOB" placeholder="Date of Birth" required><br>
    <label for="blood_group"></label>
    <select name="blood_group" id="blood_group">
        <option value="none" selected disabled hidden>
            Select Blood Group
        </option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
    </select> <br>
    <input type="tel" name="phone" id="phone" placeholder="Phone" required><br>
    <input type="email" name="email" id="email" placeholder="Email" required><br>
    <input type="submit" value="Add User">
</form>



<table border="1px" style="text-align: center;">
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Image</th>
        <th>Mimetype</th>
        <th>Position</th>
        <th>Date</th>
        <th>Blood Group</th>
        <th>Phone</th>
        <th>Email</th>
        <th>Actions</th>
    </tr>


    {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td><a href="{{ url_for('get_image',id = user.id ) }}" target="_blank">view</a></td>
            <td>{{ user.mimetype }}</td>
            <td>{{ user.position }}</td>
            <td>{{ user.date_of_birth }}</td>
            <td>{{ user.blood_group }}</td>
            <td>{{ user.phone }}</td>
            <td>{{ user.email }}</td>
            <td>
                <a href="/update/{{ user.id }}">
                    Update
                </a>
                <br>
                <a href="/delete/{{ user.id }}">
                    Delete
                </a>
            </td>
        </tr>
    {% endfor %}
</table>

{% endblock %}